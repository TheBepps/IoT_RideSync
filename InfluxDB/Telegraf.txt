Saving MQTT messagges into the database

W10:
0. Influxd.exe must be running on another cmd terminal
1. Set MQTT_config.conf as telegraf configuration -> http://localhost:8086/orgs/0e3fbce35d4f679c/load-data/telegrafs/new
2. On a new cmd instructions "set INFLUX_TOKEN={your token generated by telegraf setup instruction}
3. Same cmd instructions "telegraf --config {your config generated by telegraf setup instruction}"


Documentation: https://github.com/influxdata/telegraf
Input parser configuration hint. https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md

Tutorial: https://www.youtube.com/watch?v=a5GL-jn5q4g&list=PLz0t90fOInA5esYz9ytWzX89HT5NvLkxc&index=4




Rpi:
nano ~/.bashrc at the end of the file set the token of the telegraf api key
Not needed if the token of the telegraf api key is set on telegraf.service config, see behind

Running telegraf at the startup with the token parameters, given in telegraf setup intruction!!!!
sudo nano /etc/systemd/system/telegraf.service

[Unit]
Description=Telegraf
After=network.target

[Service]
Environment="INFLUX_TOKEN=<|||| token of the telegraf api key ||||>"
ExecStart=telegraf --config http://<|||| command to start the Telegraf agent running on your machine ||||>
Restart=on-failure

[Install]
WantedBy=multi-user.target
